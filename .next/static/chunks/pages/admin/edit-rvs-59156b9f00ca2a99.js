(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{5816:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/edit-rvs",function(){return a(7058)}])},7058:function(e,l,a){"use strict";a.r(l),a.d(l,{__N_SSP:function(){return h},default:function(){return m}});var s=a(5893),t=a(9008),r=a.n(t),n=a(2953),d=a(6154),o=a(9734),i=a(430),c=a(7294),u=a(6501);let x=e=>d.Z.get(e).then(e=>e.data);var p=function(){let[e,l]=(0,c.useState)(),[a,t]=(0,c.useState)(null),[r,n]=(0,c.useState)(),[p,h]=(0,c.useState)(),[m,g]=(0,c.useState)(),[v,b]=(0,c.useState)(),[j,N]=(0,c.useState)(),[f,y]=(0,c.useState)(),[C,F]=(0,c.useState)(),[S,w]=(0,c.useState)(),[_,Z]=(0,c.useState)(),[P,k]=(0,c.useState)(),[D,O]=(0,c.useState)(),[R,M]=(0,c.useState)(),[E,V]=(0,c.useState)(),[T,A]=(0,c.useState)(),[I,U]=(0,c.useState)(),[G,X]=(0,c.useState)(),[z,B]=(0,c.useState)(),[H,L]=(0,c.useState)(),[W,Y]=(0,c.useState)(),{data:q,isLoading:J}=(0,o.ZP)("/api/admin/rvs",x),K={openModal:e,setOpenModal:l},Q=async e=>{e.preventDefault(),u.ZP.loading("Updating RV..."),await d.Z.post("/api/admin/rvs",{id:null==a?void 0:a.id,price:r,year:p,make:m,model:v,type:j,status:f,length:C,fuelType:S,odometer:_,weight:P,sleeps:D,slideOuts:R,vin:E,exteriorColour:I,description1:G,description2:z,description3:H,description4:W}),u.ZP.dismiss(),u.ZP.success("RV updated!"),K.setOpenModal(void 0)},$=async e=>{e.preventDefault(),u.ZP.loading("Adding Rv as Featured...");try{await d.Z.post("/api/admin/featured-rvs",{id:null==a?void 0:a.id}),u.ZP.dismiss(),u.ZP.success("Rv added as Featured!"),K.setOpenModal(void 0)}catch(e){console.log(e),u.ZP.dismiss(),u.ZP.error("Could not add Rv as Featured!")}},ee=async e=>{e.preventDefault(),u.ZP.loading("Deleting RV..."),await d.Z.delete("/api/admin/rvs",{data:{id:null==a?void 0:a.id}}),u.ZP.dismiss(),u.ZP.success("RV deleted!")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.u_,{dismissible:!0,show:"dismissible"===K.openModal,size:"xl",onClose:()=>K.setOpenModal(void 0),children:[(0,s.jsxs)(i.u_.Header,{children:["RV: ",null==a?void 0:a.id]}),(0,s.jsx)(i.u_.Body,{children:(0,s.jsxs)("form",{className:"grid grid-cols-1 lg:grid-cols-2 place-items-center gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"price",children:"Price"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"20,900.00",type:"text",name:"price",value:r||(null==a?void 0:a.price),onChange:e=>n(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"year",children:"Year"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"2016",type:"text",name:"year",value:p||(null==a?void 0:a.year),onChange:e=>h(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"name",children:"Make"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",type:"text",name:"make",value:m||(null==a?void 0:a.make),onChange:e=>g(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"model",children:"Model"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",type:"text",name:"model",value:v||(null==a?void 0:a.model),onChange:e=>b(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"type",children:"Type"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Class A",type:"text",name:"type",value:j||(null==a?void 0:a.type),onChange:e=>N(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"status",children:"Status"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Used",type:"text",name:"status",value:f||(null==a?void 0:a.status),onChange:e=>y(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"length",children:"Length"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"31.70",type:"text",name:"length",value:C||(null==a?void 0:a.length),onChange:e=>F(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"fuelType",children:"Fuel Type"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Gas",type:"text",name:"fuelType",value:S||(null==a?void 0:a.fuelType),onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"odometer",children:"Odometer"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"6058",type:"text",name:"odometer",value:_||(null==a?void 0:a.odometer),onChange:e=>Z(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"weight",children:"GVWR info"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"18000",type:"text",name:"weight",value:P||(null==a?void 0:a.weight),onChange:e=>k(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"sleeps",children:"Sleeps"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"8",type:"text",name:"sleeps",value:D||(null==a?void 0:a.sleeps),onChange:e=>O(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"slideOuts",children:"Slide Outs"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"2",type:"text",name:"slideOuts",value:R||(null==a?void 0:a.slideOuts),onChange:e=>M(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"vin",children:"VIN"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"",type:"text",name:"vin",value:E||(null==a?void 0:a.vin),onChange:e=>V(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"exteriorColour",children:"Exterior Colour"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"TAN",type:"text",name:"exteriorColour",value:I||(null==a?void 0:a.exteriorColour),onChange:e=>U(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"imgCount",children:"Image Count"}),(0,s.jsx)("input",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"40",type:"text",name:"imgCount",value:T||(null==a?void 0:a.imgCount),onChange:e=>A(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"description1",children:"Description 1"}),(0,s.jsx)("textarea",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Description 1",name:"description1",value:G||(null==a?void 0:a.description1),onChange:e=>X(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"description2",children:"Description 2"}),(0,s.jsx)("textarea",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Description 2",name:"description2",value:z||(null==a?void 0:a.description2),onChange:e=>B(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"description3",children:"Description 3"}),(0,s.jsx)("textarea",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Description 3",name:"description3",value:H||(null==a?void 0:a.description3),onChange:e=>L(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"description4",children:"Description 4"}),(0,s.jsx)("textarea",{className:"bg-transparent border-2 border-slate-500 rounded-lg",placeholder:"Description 4",name:"description4",value:W||(null==a?void 0:a.description4),onChange:e=>Y(e.target.value)})]})]})}),(0,s.jsxs)(i.u_.Footer,{children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg text-white bg-slate-800 duration-300 hover:bg-slate-800/80",onClick:Q,children:"Update"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg text-white bg-slate-800 duration-300 hover:bg-slate-800/80",onClick:$,children:"Add as Featured"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg text-white bg-slate-800 duration-300 hover:bg-slate-800/80",onClick:ee,children:"Delete"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg border text-gray-800 duration-300 hover:bg-gray-400/10",onClick:()=>K.setOpenModal(void 0),children:"Cancel"})]})]}),(0,s.jsxs)("div",{className:"py-36 flex flex-col items-center gap-10 text-white",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold underline underline-offset-2",children:"Edit Rv's"}),(0,s.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,s.jsx)("thead",{className:"text-xs uppercase bg-gray-700 text-gray-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Rv Id"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Make & Model"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Odometer"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Vin"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,s.jsx)("tbody",{children:!J&&q.data.map(e=>(0,s.jsxs)("tr",{className:"border-b odd:bg-gray-900 even:bg-gray-800 border-gray-700",children:[(0,s.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap text-white",children:e.id}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[e.make," & ",e.model]}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[e.odometer," miles"]}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.vin}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("button",{onClick:()=>{t(e),K.setOpenModal("dismissible")},className:"font-medium text-blue-500 hover:underline",children:"Edit"})})]},e.id))})]})})]})]})},h=!0;function m(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{children:(0,s.jsx)("title",{children:"Admin | Edit RVs"})}),(0,s.jsx)(n.Z,{}),(0,s.jsx)(u.x7,{}),(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-800",children:(0,s.jsx)("section",{id:"editRv",children:(0,s.jsx)(p,{})})})]})}}},function(e){e.O(0,[445,556,679,154,386,961,928,888,179],function(){return e(e.s=5816)}),_N_E=e.O()}]);